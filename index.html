<!doctype html>
<html lang="pt-BR" data-ui-mode="LOCAL_SIMULADOR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="light dark" />
  <title>ARKHOS_UI ‚Äî Esta√ß√£o de Intelig√™ncia Jur√≠dica</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <a class="sr-only" href="#main">Pular para o conte√∫do</a>

  <header class="topbar no-print" role="banner">
  <div class="brand">
    <div class="brand-mark" aria-hidden="true">‚öñÔ∏è</div>
    <div class="brand-text">
      <div class="brand-title">ARKHOS 1.0</div>
      <div class="brand-subtitle">Esta√ß√£o de Intelig√™ncia Jur√≠dica</div>
    </div>
  </div>

  <div class="topbar-right">
    <div class="badges" aria-label="Status do sistema">
      <span class="badge badge-op" id="badge-operacional">OPERACIONAL</span>
      <span class="badge badge-runtime" id="badge-runtime" title="Conex√£o do motor">MODO: OFFLINE</span>
    </div>

    <div class="lang-toggle" role="group" aria-label="Idioma">
      <button class="btn-top" id="btn-lang-pt" type="button" aria-pressed="true">PT</button>
      <button class="btn-top" id="btn-lang-en" type="button" aria-pressed="false">EN</button>
    </div>

    <div class="top-actions">
      <button class="btn-top" id="btn-ajuda" type="button">AJUDA</button>
      <button class="btn-top" id="btn-config" type="button">CONFIG</button>
      <button class="btn-main" id="btn-conectar-motor" type="button" title="Conectar motor remoto">CONECTAR MOTOR</button>
    </div>
  </div>
  </header>

  <main id="main" class="bancada-container" role="main">
    <aside class="col-comandos no-print" aria-label="Coluna de comandos">

      <section class="card">
        <div class="tabs" role="tablist" aria-label="Modos">
          <button id="btn-tab-pro" class="tab active" role="tab"
                  aria-selected="true" aria-controls="tela-pro" type="button">
            PRO
          </button>
          <button id="btn-tab-chat" class="tab" role="tab"
                  aria-selected="false" aria-controls="tela-chat" type="button">
            CHAT
          </button>
        </div>
      </section>

      <!-- TELA PRO -->
      <section id="tela-pro" class="screen" role="tabpanel" aria-labelledby="btn-tab-pro">
        <section class="card">
          <h2 class="card-title" id="pro-title">Modo Profissional</h2>

          <label class="field">
            <span class="field-label" id="lbl-area">√Årea</span>
            <select id="area-direito" class="select">
              <option value="civil">Civil</option>
              <option value="penal">Penal</option>
              <option value="trabalhista">Trabalhista</option>
              <option value="familia">Fam√≠lia</option>
              <option value="tributario">Tribut√°rio</option>
              <option value="consumidor">Consumidor</option>
              <option value="administrativo">Administrativo</option>
              <option value="constitucional">Constitucional</option>
            </select>
          </label>

          <label class="field">
            <span class="field-label" id="lbl-instrucao">Instru√ß√£o</span>
            <textarea id="cmd-input" class="textarea" rows="7"
                      placeholder="Descreva o caso e o que voc√™ precisa (m√≠n. 10 caracteres)."></textarea>
          </label>

          <div class="row row-gap">
          <button id="btn-executar" class="btn-main" type="button" disabled>GERAR MINUTA</button>
          <button id="btn-exportar" class="btn-secundario" type="button" disabled>EXPORTAR PDF</button>
          <button id="btn-enviar" class="btn-secundario" type="button" disabled>ENVIAR</button>
          <button id="btn-arquivar" class="btn-secundario" type="button" disabled>ARQUIVAR SESS√ÉO</button>
          </div>
            
          

          <p class="hint" id="hint-failclosed" aria-live="polite">
            Fail-closed: informe uma instru√ß√£o v√°lida para habilitar a gera√ß√£o.
          </p>
        </section>

        <section class="card">
          <h3 class="card-title" id="ttl-acervo">Acervo Probat√≥rio</h3>

          <div class="upload-row">
            <input id="file-soberano" class="file" type="file" multiple />
            <button id="btn-limpar-anexos" class="btn-secundario" type="button" disabled>REMOVER TODOS</button>
          </div>

          <template id="tpl-file-item">
            <li class="file-item">
              <div class="file-meta">
                <div class="file-name"></div>
                <div class="file-sub"></div>
              </div>
              <button class="btn-top file-remove" type="button" aria-label="Remover arquivo">‚úï</button>
            </li>
          </template>

          <ul id="lista-arquivos" class="file-list" aria-label="Arquivos anexados"></ul>
          <p id="files-empty" class="hint" aria-live="polite">Nenhum arquivo anexado.</p>
        </section>

        <section class="card dashboard-lcu">
          <div class="dashboard-head">
            <h3 class="card-title" id="ttl-auditoria">Auditoria (Simulador)</h3>
            <div class="selos-validacao" aria-label="Selos de valida√ß√£o">
              <span class="selo" id="selo-cert">CERT: ‚Äî</span>
              <span class="selo" id="selo-auth">AUTENTICIDADE: ‚Äî</span>
            </div>
          </div>

          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-label" id="m-metal">METAL</div>
              <div class="metric-value" id="v-metal">‚Äî</div>
              <div class="bar"><div class="fill" id="bar-metal"></div></div>
            </div>
            <div class="metric-card">
              <div class="metric-label" id="m-estado">ESTADO</div>
              <div class="metric-value" id="v-estado">‚Äî</div>
              <div class="bar"><div class="fill" id="bar-estado"></div></div>
            </div>
            <div class="metric-card">
              <div class="metric-label" id="m-legiao">LEGI√ÉO</div>
              <div class="metric-value" id="v-legiao">‚Äî</div>
              <div class="bar"><div class="fill" id="bar-legiao"></div></div>
            </div>
            <div class="metric-card">
              <div class="metric-label" id="m-logos">LOGOS</div>
              <div class="metric-value" id="v-logos">‚Äî</div>
              <div class="bar"><div class="fill" id="bar-logos"></div></div>
            </div>
          </div>

          <div class="audit-foot">
            <div class="hint" id="audit-motivo" aria-live="polite">Aguardando gera√ß√£o para auditoria.</div>
          </div>
        </section>

        <section class="card" id="painel-rastreio">
          <h3 class="card-title" id="ttl-rastreio">Rastreabilidade</h3>
          <details open>
            <summary id="sum-cert">CERT</summary>
            <div class="mono" id="cert-resumo">Aguardando‚Ä¶</div>
          </details>
          <details>
            <summary id="sum-ledger">LEDGER</summary>
            <div class="mono" id="ledger-resumo">Aguardando‚Ä¶</div>
          </details>
          <details>
            <summary id="sum-evid">EVID√äNCIAS</summary>
            <div class="mono" id="evidencias-resumo">Aguardando‚Ä¶</div>
          </details>
        </section>

        <section class="card" id="painel-arquivados">
          <div class="row row-between">
            <h3 class="card-title" id="ttl-arquivados">Arquivados</h3>
            <button id="btn-limpar-archive" class="btn-top" type="button">LIMPAR</button>
          </div>
          <ul id="lista-arquivados" class="archive-list" aria-label="Sess√µes arquivadas"></ul>
          <p id="archive-empty" class="hint">Nenhum arquivado.</p>
        </section>

        <!-- porta do motor remoto (futuro) mantida, mas oculta -->
        <div id="motor-port" hidden aria-hidden="true"></div>
      </section>

      <!-- TELA CHAT -->
<section id="tela-chat" class="screen hidden" role="tabpanel" aria-labelledby="btn-tab-chat">

  <section class="card chat-top">
    <h2 class="card-title" id="chat-title">Assistente Jur√≠dico</h2>
    <div class="chip-row" aria-label="A√ß√µes r√°pidas">
      <button class="chip-action" data-chip="peticao" type="button">Peti√ß√£o</button>
      <button class="chip-action" data-chip="resumo" type="button">Resumo</button>
      <button class="chip-action" data-chip="revisao" type="button">Revis√£o</button>
      <button class="chip-action" data-chip="relatorio" type="button">Relat√≥rio</button>
    </div>
  </section>

  <!-- üî¥ BLOCO DAS MENSAGENS (ESTAVA FALTANDO) -->
  <section class="card chat-body" aria-label="Mensagens">
    <div id="chat-messages" class="chat-messages" role="log" aria-live="polite"></div>
  </section>

  <section class="card chat-input-card">

    <div class="chat-input-wrap">
      <input id="chat-input" class="chat-input" type="text" placeholder="Escreva sua mensagem‚Ä¶" />
      <button id="chat-send" class="chat-send btn-main" type="button" disabled>ENVIAR</button>
    </div>

    <div class="upload-row" style="margin-top:10px">
      <input id="chat-file" class="file" type="file" multiple />
      <button id="btn-chat-limpar-anexos" class="btn-secundario" type="button" disabled>REMOVER ANEXOS</button>
    </div>

    <p id="chat-files-empty" class="hint" aria-live="polite">Nenhum anexo no chat.</p>

    <div class="row row-gap" style="margin-top:10px">
      <button id="chat-gerar-doc" class="btn-main" type="button" disabled>GERAR DOC</button>
      <button id="chat-enviar-doc" class="btn-secundario" type="button" disabled>EXPORTAR</button>
      <button id="chat-arquivar" class="btn-secundario" type="button">ARQUIVAR CHAT</button>
      <button id="chat-limpar" class="btn-secundario" type="button">LIMPAR CHAT</button>
    </div>

  </section>

</section>

    </aside>

    <section class="col-resultados" aria-label="Coluna de resultados">
      <section class="card canvas-card">
        <div class="row row-between no-print">
          <h2 class="card-title" id="ttl-canvas">Documento</h2>
          <span id="txt-placeholder" class="hint">Aguardando gera√ß√£o‚Ä¶</span>
        </div>
        <article id="output-canvas" class="output-canvas" aria-label="Documento gerado"></article>
      </section>

      <!-- ONLY PRINT: recebe c√≥pia do documento antes de imprimir -->
      <section id="secao-impressao-isolada" class="only-print" aria-label="Documento para impress√£o"></section>
    </section>
  </main>

  <!-- MODAL: AJUDA -->
  <div id="modal-ajuda" class="modal hidden no-print" role="dialog" aria-modal="true" aria-labelledby="modal-ajuda-title">
    <div class="modal-card">
      <div class="row row-between">
        <h3 id="modal-ajuda-title" class="card-title">Ajuda</h3>
        <button class="btn-top" id="btn-ajuda-fechar" type="button" aria-label="Fechar">‚úï</button>
      </div>
      <div class="modal-body">
        <p class="hint" id="ajuda-texto">
          Local simulador. Gere minuta no modo PRO, use CHAT para conversas, exporte PDF e arquive sess√µes.
        </p>
        <ul class="bullets">
          <li>Fail-closed: m√≠nimo 10 caracteres para gerar.</li>
          <li>Export: imprime somente o documento gerado.</li>
          <li>Arquivar: salva draft, auditoria, anexos e chat.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- MODAL: CONFIG -->
  <div id="modal-config" class="modal hidden no-print" role="dialog" aria-modal="true" aria-labelledby="modal-config-title">
    <div class="modal-card">
      <div class="row row-between">
        <h3 id="modal-config-title" class="card-title">Config</h3>
        <button class="btn-top" id="btn-config-fechar" type="button" aria-label="Fechar">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="row row-gap">
          <button id="btn-limpar-sessao" class="btn-secundario" type="button">LIMPAR SESS√ÉO</button>
          <button id="btn-compartilhar" class="btn-secundario" type="button">COMPARTILHAR</button>
        </div>
        <p class="hint" id="config-hint">
          ‚ÄúCompartilhar‚Äù usa recursos nativos quando dispon√≠veis (Android) ou fallback para copiar texto.
        </p>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
          </html>
